\makeatletter

\def\@@getoptionalarg[#1]{%
   \def\@optionalarg{#1}%
   \@futurenonspacelet\temp@@
   \@optionaltemp
}

\resetatcatcode

