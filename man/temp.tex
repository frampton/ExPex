
\makeatletter
\newcount\@itemtype
% 1=+, 2=@, 3=[, 4=], 5=\nogloss, 0=other
\def\@getitemtype #1{\expandafter\@getitemtype@i #1\@nil}
\def\@getitemtype@i #1#2\@nil{%
   \def\temp{#2}%
   \ifx\temp\empty
      \if\ep@samecharcode#1+\relax
         \@itemtype=1
      \else\if\ep@samecharcode#1@\relax
         \@itemtype=2
      \else\if\ep@samecharcode #1[\relax
         \@itemtype=3
      \else\if\ep@samecharcode #1]
         \@itemtype=4
      \else \@itemtype=0
         \fi\fi\fi\fi
   \else
      \ifx#1\nogloss \@itemtype=5
      \else \@itemtype=0 \fi
   \fi
}



\lingset{glhangindent=0pt,glstyle=wrap,glrightskip=0pt plus 1in,
   extraglskip=1ex,everygla=}

%\def\nogloss#1{#1}

\ex\begingl
\gla a1 [ b1 @ c1 d1 //
\glb a2 b2 c2//
\endgl\xe

\endinput

\ex[glwidth=2.4in]
a.\quad
\begingl
\gla
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\glb
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\endgl
\hfil
b.\quad
\begingl
\gla
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\glb
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\endgl
\xe

\ex[glwidth=2.4in,glhangstyle=cascade,glhangindent=1em,extraglskip=0pt]
%\ex[glwidth=2.4in,glhangstyle=normal,glhangindent=1em,extraglskip=0pt]
%\ex[glwidth=2.4in,glhangstyle=none,glhangindent=1em]
a.\quad
\begingl
\glpreamble this is one way of doing it, although opinions on this
may differ//
\gla
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\glb
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\glft this is one way of doing it, although opinions on this
may differ//
\endgl
\hfil
b.\quad
\begingl
\gla
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\glb
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\endgl
\xe

\hsize=2in
\ex[glwidth=0pt,glhangstyle=cascade,glhangindent=1em]
\begingl
\gla
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\glb
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc//
\endgl
\xe

\endinput

\ex
\begingl[glstyle=wrap,glwidth=0pt,glbreaking=false]
\gla
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
//
\glb
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
aaa bbb ccc
//
\endgl
\xe
