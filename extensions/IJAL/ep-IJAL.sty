\edef\resetatcatcode{\catcode`\noexpand\@\the\catcode`\@\relax}
\catcode`\@11\relax
\ifx\ProvidesFile\@undefined
   \message{2011/07/05 v3.0 ExPex support for IJAL (JF)}
\else
   \ProvidesPackage{ep-IJAL}[2011/07/05 v1.0
      ExPex support for IJAL (JF)]
\let\normalpex=\pex
\define@choicekey{ling}{altformat}[\ling@altformat\nr]%
   {none,IJAL}{%
      \ifcase\nr
            \let\pex=\normalpex
         \or
            \let\pex=\jpex
         \fi
}
\lingset{altformat=none}
\def\jpex{\bgroup
   \let\pex@d=\jpex@d
   \let\pex@e=\jpex@e
   \let\xe=\jxe
   \let\put@label=\put@jpexlabel
   \lingset{labelformat=(A),numoffset=\parindent}
   \@tildecheck
   \pex@a
}
\def\jpex@d{%
   \ifx\temp\a \let\nextpex@\pex@e
      \else \ifx\temp\label \let\nextpex@\pex@f
      \else \ling@nopreamblefalse \let\nextpex@\pex@e
      \fi\fi
   \ex@setup
   \nextpex@
}
\def\jpex@e{%
   \pexcnt@init
   \@firstlabeltrue
   \let\a\put@label
   \setbox0=\hbox{\exnoprint a}%
   \leftskip=\lingnumoffset
   \advance\leftskip by \wd0
   \advance\leftskip by \lingtextoffset
   \ifling@nopreamble
      \let\specialexnoprint=\relax
      \let\exnoprint=\relax
      \fi
   \leavevmode
   \llap{\hbox to \leftskip{%
      \hskip\lingnumoffset
      \exnoprint
      \hfil}}%
   \ling@everyex
}
\def\jxe{%
   \strut
   \expandafter\vskip\lingbelowexskip
   \egroup
   \allowbreak
   \noindent
}
\def\put@jpexlabel{%
   \if@firstlabel
      \ifling@nopreamble
         \else
         \vskip\ling@belowpreambleskip
         \fi
      \@firstlabelfalse
   \else
      \par\penalty\ling@splitpartspenalty
      \vskip\ling@interpartskip
   \fi
   \def\@specialexno{}\def\@optionaltag{}%
   \@getoptionalarg\put@jpexlabel@a
}
\def\put@jpexlabel@a{%
   \useoptionallabelarg
   \def\ep@label{\the\excnt \the\ep@everylabel\char\the\pexcnt}%
   \advance\pexcnt by 1
   \@getoptionaltag
   \put@jpexlabel@b
}
\def\put@jpexlabel@b{%
   \ifx\@optionaltag\empty \else
      \deftaglabel{\@optionaltag}%
      \fi
   \leavevmode
   \llap{\hbox to \leftskip{\hskip\lingnumoffset
      \@labelprint\hss}}%
   \latex@tagexlabel
   \ignorespaces
}
\resetatcatcode
